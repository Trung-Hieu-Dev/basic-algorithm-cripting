<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Recursion - Basic</title>
	</head>
	<body>
		<h1>What is Recursion and How it works</h1>  

		<script>
			/*
				Write a function called countDown, accepts a number as argument. 
				The outputs are in decreasement and stop at Zero with the text "All done!" 
				
				countDown(3) => 3
								2
								1
								All done!
			*/

			// for loop
			// function countDown(num) {
			// 	for (let i = num; i > 0; i--) {
			// 		console.log(i);
			// 	}
			// 	console.log('All done!');
			// }

			// recurion 1
			function countDown(num) {
				if (num <= 0) {
					console.log('All done!');
					return
				}
				console.log(num);
				num--
				countDown(num)
			}
			countDown(3)

			// recursion 2: 5 + 4 + 3 + 2 + 1
			function sumRange(num) {
				if (num === 1) return 1
				return num + sumRange(num - 1)
			}
			console.log('sum range',sumRange(3))

			// recursion 3: 5 * 4 * 3 * 2 * 1
			function factorial(num) {
				if (num < 0) {
					return null
				}
				if(num === 1) return 1
				return num * factorial(num - 1)
			}

			console.log('factorial',factorial(5));

			// Iterative: 5 * 4 * 3 * 2 * 1
			function calculateFactorial(num) {
				if (num < 0) {
					return null
				}
				let result = 1;
				for (let i = num; i > 1; i--) {
					result *= i
				}
				console.log('iterative',result);
			}
			calculateFactorial(5)

			// Method Recursion (Đệ quy phương thức): collect all odd numbers in an given array
			function collectOddValue(arr) {
				let result = []

				function helper(inputArr) {
					if (inputArr.length === 0) return
					if (inputArr[0] % 2 !== 0) {
						result.push(inputArr[0])
					}
					helper(inputArr.splice(1))
				}

				helper(arr)

				return result
			}

			const oddValues = collectOddValue([1,3,4,6])
			console.log(oddValues);

			// Pure Recursion: Đệ quy thuần túy: collect all odd numbers in an given array
			function collectOddValue1(arr) {
				let newArr = [] // will be reseted to empty every time fucntion invoke
				if (arr.length === 0) return newArr
				if (arr[0] % 2 !== 0) {
					newArr.push(arr[0])
				}
				newArr = newArr.concat(collectOddValue1(arr.splice(1))) // keep new arr update with new values
				return newArr
			}

			const oddValues1 = collectOddValue1([1,3,4,6])
			console.log(oddValues1);
		</script>
	</body>
</html>